From d98c8a4fd40ca1b60aae0aefb88debca4e3897c5 Mon Sep 17 00:00:00 2001
From: Marcel Bargull <marcel.bargull@udo.edu>
Date: Wed, 29 Jul 2020 15:04:26 +0200
Subject: [PATCH 1/2] Fix parsing UnsatisfiableError from conda>=4.7.8

This has been broken since
https://github.com/conda/conda/commit/1dff3526c2ca2574a56e2352d7b8de86441fbd8b#diff-1f2230f9e987e7b066381cf7e00e9d21R697
---
 conda_build/exceptions.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/conda_build/exceptions.py b/conda_build/exceptions.py
index 716ecfb9a..890925427 100644
--- a/conda_build/exceptions.py
+++ b/conda_build/exceptions.py
@@ -67,7 +67,7 @@ def __init__(self, conda_exception=None, packages=None, subdir=None, *args, **kw
         else:
             self.packages = packages or []
             for line in str(conda_exception).splitlines():
-                if not line.startswith('  - '):
+                if not line.startswith('  - ') and (':' in line or ' -> ' not in line):
                     continue
                 pkg = line.lstrip('  - ').split(' -> ')[-1]
                 self.matchspecs.append(pkg)

From 44d8f787e6d2025f9569054be549085bf7433efa Mon Sep 17 00:00:00 2001
From: Marcel Bargull <marcel.bargull@udo.edu>
Date: Wed, 29 Jul 2020 17:35:32 +0200
Subject: [PATCH 2/2] Add news/fix-parsing-UnsatisfiableError.rst

---
 news/fix-parsing-UnsatisfiableError.rst | 25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)
 create mode 100644 news/fix-parsing-UnsatisfiableError.rst

diff --git a/news/fix-parsing-UnsatisfiableError.rst b/news/fix-parsing-UnsatisfiableError.rst
new file mode 100644
index 000000000..303507946
--- /dev/null
+++ b/news/fix-parsing-UnsatisfiableError.rst
@@ -0,0 +1,25 @@
+Enhancements:
+-------------
+
+* <news item>
+
+Bug fixes:
+----------
+
+* Fix parsing UnsatisfiableError from conda>=4.7.8
+
+Deprecations:
+-------------
+
+* <news item>
+
+Docs:
+-----
+
+* <news item>
+
+Other:
+------
+
+* <news item>
+
